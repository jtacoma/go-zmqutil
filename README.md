# zmqutil

Package zmqutil implements some ØMQ (http://www.zeromq.org) abstractions and
utilities.

A context from this package remembers its sockets and has its own Linger
option.  When a context is closed, it will set the Linger option on each
socket then close them all.

All socket options are available through option-specific getter/setter methods.

A reactor loop that lets event handlers be attached to sockets.

 import (
     "errors"
     "time"

     zmq "github.com/alecthomas/gozmq"
     "github.com/jtacoma/go-zmqutil"
 )

 func main() {
     context := zmqutil.NewContext()
     defer context.Close()
     context.SetLinger(1 * time.Second)
     socket, _ := context.NewSocket(zmq.SUB)
     poller, _ := zmqutil.NewPoller(context)
     poller.HandlFunc(socket, zmq.POLLIN, func (e *zmqutil.SocketEvent) error {
         println(string(msg[0]))
         if (string(msg[0]) == "STOP") {
             e.Fault = errors.New("received 'STOP'")
             println("Stopping...")
         }
     })
     socket.Bind("tcp://localhost:5555")
     poller.Run()
 }

## Building

Build tags are used to distinguish versions of ØMQ.  Version 2.1 is `zmq_2_1`,
2.2 is `zmq_2_x`, and 3.2 is `zmq_3_x`.  If no build tags are specified then the
default is 2.2 and this is reflected in the documentation generated by godoc.

## Status

This project is in early development, the public API may change significantly
before 1.0.

## License

Use of this source code is governed by a BSD-style license that can be found in
the LICENSE file.
